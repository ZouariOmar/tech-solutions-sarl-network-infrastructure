! ZouariOmar <zouariomar20@gmail.com>
! Since:         2025-11-19
! LastUpdate:    2025-11-24
! RouterName:    R-WEB
! RouterVersion: C3745
! COPY-THAN-PASTE

conf t
hostname R-WEB

! ============================
! ===== INTERFACES PART ======
! F0/1(OUTSIDE) - F0/0(INSIDE)
! ============================

! === FastEthernet0/1 (outside) ===
interface FastEthernet0/1
  description R-WEB to UDP Tunnel (RZ-1)
  ip address 10.3.0.2 255.255.255.252
  ip nat outside
  ip virtual-reassembly
  duplex auto
  speed auto
  no shutdown
  exit

! === FastEthernet0/0 (inside) ===
interface FastEthernet0/0
  description LAN WEB-MARKETING
  ip address 172.24.0.1 255.255.192.0
  ip nat inside
  ip virtual-reassembly
  duplex auto
  speed auto
  no shutdown
  exit

! Shutdown unused interfaces
interface range Serial0/0 , Serial0/1 , Serial0/2 , Serial2/0 - 2/3 , FastEthernet1/0
  shutdown
  exit

! ============================
! ====== SERVICES PART =======
! NAT - OSPF - DHCP - DNS
! ============================

! === NAT ===
! ACL for dynamic NAT
access-list 1 permit 172.24.0.0 0.0.63.255

! Dynamic NAT / PAT
ip nat inside source list 1 interface FastEthernet0/1 overload

! === OSPF ===
router ospf 1
  router-id 10.3.0.2
  log-adjacency-changes
  network 10.3.0.0 0.0.0.3 area 0
  passive-interface default
  no passive-interface FastEthernet0/1
  exit

! Fallback default route
ip route 0.0.0.0 0.0.0.0 10.3.0.1

! === DHCP ===
ip dhcp excluded-address 172.24.0.1 172.24.0.20
ip dhcp excluded-address 172.24.63.255

ip dhcp pool RZ-WEB
  network 172.24.0.0 255.255.192.0
  default-router 172.24.0.1
  dns-server 8.8.8.8
  domain-name web.techsolutions
  exit

! === DNS ===
ip domain-lookup
ip name-server 8.8.8.8
ip name-server 1.1.1.1

! ============================
! ====== SECURITY PART =======
! CONSOLE - SSH - TELNET - ACL
! ============================

! Create Admin user
username admin privilege 15 secret <STRONG_PASSWORD>

! Encrypt all passwords
service password-encryption

! === Console ===
line console 0
  login local
  exec-timeout 5 0
  logging synchronous
  exit

! === SSH ===
crypto key generate rsa usage-keys label SSH modulus 2048
ip ssh version 2

line vty 0 4
  login local
  transport input ssh
  exec-timeout 5 0
  logging synchronous
  exit

! === Telnet (optional / legacy) ===
line vty 5 15
  login local
  transport input telnet
  exec-timeout 5 0
  logging synchronous
  exit

! Disable unused services
no ip http server
no ip http secure-server
! no cdp run

end
write

! =========================
! === VERIFICATION PART ===
! =========================

! show ip nat translations
! show ip nat statistics
! show ip ospf neighbor
! show ip route
! show ip dhcp binding
