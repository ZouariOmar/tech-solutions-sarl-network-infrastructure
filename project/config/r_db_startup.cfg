! ZouariOmar <zouariomar20@gmail.com>
! Since:         2025-12-23
! LastUpdate:    2025-12-23
! RouterName:    R-db
! RouterVersion: C3745
! COPY-THAN-PASTE

conf t
hostname R-db

! ============================
! ===== INTERFACES PART ======
! F0/1(OUTSIDE) - F0/0(INSIDE)
! ============================

! === FastEthernet0/0 (inside) ===
interface FastEthernet0/0
  description R-db to DB-LAN
  ip address 172.24.72.1 255.255.254.0
  ip nat inside
  no shutdown
  exit

! === FastEthernet0/1 (outside) ===
interface FastEthernet0/1
  description R-db to UDP Tunnel / Backbone
  ip address 10.1.0.2 255.255.255.252
  ip nat outside
  no shutdown
  exit

! ============================
! ====== SERVICES PART =======
! NAT - OSPF - DHCP - DNS
! ============================

! === DHCP ===
! Excluded addresses
ip dhcp excluded-address 172.24.72.1 172.24.72.2
ip dhcp excluded-address 172.24.72.3
ip dhcp excluded-address 172.24.72.10
ip dhcp excluded-address 172.24.73.255

ip dhcp pool DB-LAN
  network 172.24.72.0 255.255.254.0
  default-router 172.24.72.1
  dns-server 8.8.8.8
  exit

! === DNS ===
ip domain-lookup
ip name-server 8.8.8.8
ip name-server 1.1.1.1

! === NAT ===
! ACL for dynamic NAT
access-list 1 permit 172.24.72.0 0.0.1.255

! Dynamic NAT / PAT
ip nat inside source list 1 interface FastEthernet0/1 overload

! === OSPF ===
router ospf 1
  log-adjacency-changes
  network 10.0.0.0 0.0.0.255 area 0
  network 10.1.0.0 0.0.0.3 area 0
  exit

! Default route
ip route 0.0.0.0 0.0.0.0 10.1.0.1

! ============================
! ====== SECURITY PART =======
! CONSOLE - SERVICES
! ============================

! Disable unused services
no ip http server
no ip http secure-server

! === Console ===
line console 0
  exec-timeout 10 0
  privilege level 15
  logging synchronous
  exit

end
write memory

! =========================
! === VERIFICATION PART ===
! =========================

! show ip nat translations
! show ip ospf neighbor
! show ip route
